
# Main application server (handles multiple domains)
getautom8.app, api.getautom8.app {
    reverse_proxy server:8000
}

# LiveKit server
lk.getautom8.app {
    # This handles the WebSocket connection
    reverse_proxy livekit:7880
}

# This separate block is for LiveKit's UDP traffic (RTC)
lk.getautom8.app:7881 {
    reverse_proxy {
        to livekit:7881
        transport udp
    }
}